## ---------------
generate with starter1.rb

## ---------------
# github
$ git remote add origin git@github.com:linoj/nh4k.git
$ git push origin master


## ---------------
## resources

mountains
  $ rails g scaffold Mountain name elevation:integer lat:decimal lng:decimal
      trailsnh_link_link netc_link_link amc_link_link notes:text
      has_and_belongs_to_many :trips
      has_many :hikers, through: :trips
  
trips
  $ rails g scaffold Trip start_at:datetime end_at:datetime route:text 
      distance:float
      has_and_belongs_to_many :hikers
      has_and_belongs_to_many :mountains

  $ rails g migration create_mountains_trips
      def change
        create_table :mountains_trips, :id => false do |t|
          t.references :mountain
          t.references :trip
        end
        add_index :mountains_trips, :mountain_id
        add_index :mountains_trips, :trip_id
      end

hikers
  $ rails g scaffold Hiker name born_on:date
      has_and_belongs_to_many :trips
      has_many :mountains, through: :trips
  
  $ rails g migration create_hikers_trips
      ...

journals (trip report)
      text,...
  belongs to hiker
  belongs to trip


$ rm -rf spec/controllers
$ rm -rf spec/views
$ rm -rf spec/routing

$ rm app/assets/stylesheets/scaffolds.css.scss
$ rm app/assets/stylesheets/hikers.css.scss
$ rm app/assets/stylesheets/mountains.css.scss
$ rm app/assets/stylesheets/trips.css.scss

$ rm app/assets/javascripts/hikers.js.coffee
$ rm app/assets/javascripts/mountains.js.coffee
$ rm app/assets/javascripts/trips.js.coffee


migrate mountain
  fullname
  is_nh4k
  
gem 'redcarpet'

def markdown(text)
  Redcarpet.new(text).to_html.html_safe
end

-------
ascent
  mountain_id, trip_id
    rename_table :mountains_trips, :ascents

hike
  is a personal
  could add ratings, journal, photos to this
    rename_table :hikers_trips, :hikes 

=============

  4000 Footer
      Cannon
      Moosalauk   4123'    July 1, 2011 []    me, Lisa 
                            Oct 5, 2010       me, Jarrett, Lisa


Possible lists
  Mountains: 
      all 4000 footers
      sort by Name, Elevation
      highlight which ones hiked (current_user)
        multiple users
      tag which to do next?
      map integrated, interactive (?)
      
  Trips: 
    assume current_user
    By mountain:
        list of all mountains, date hiked, who
    By date
    By who
    
  hikers
    per hiker, which mountains they've completed, % done :), hikes per year rate ? :)
    
  .....
  http://railscasts.com/episodes/250-authentication-from-scratch-revised?view=asciicast
  rails g resource user email password_digest
  rake db:migrate
  ...
  rails g controller sessions new

  
================

Stories
  Only admin users can edit content
  show who's done which mountains

  I can log in via facebook, twitter or google
  I can sign up (omniauth identity) and login
  I can see my avatar (from facebook, twitter, google)
  List of mountains tags the ones I've done

location of trailhead
distance from home to trailhead


## ---------------
## ---------------
## ---------------
  

=======================
Mountain
  many ascents
  many trips
  many hikers, through trips

Hiker
  many my_hikes
  many trips, through my_hikes
  many ascents, through trips

Trip
  many ascents
  many my_hikes
  many hikers, through my_hikes
  belongs to trail_route

Ascents (mountains_trips)
  belongs to mountain
  belongs to trip

MyHikes (hikers_trips)
  belongs to hiker
  belongs to trip


======
TrailRoutes
  many mountains
  one trail_head

TrailHeads
  many trail_routes

